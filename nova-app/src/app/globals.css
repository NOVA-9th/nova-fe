@import 'tailwindcss';

/* tokens */
@import './styles/tokens/color.css';
@import './styles/tokens/fonts.css';
@import './styles/tokens/radius.css';
@import './styles/tokens/spacing.css';
@import './styles/tokens/scale.css';
@import './styles/tokens/frame.css';

/* component-level tokens */
@import './styles/components/variants.css';
@import './styles/components/interaction.css';
@import './styles/components/layout.css';
@import './styles/components/state.css';

/* composed theme */
@import './styles/theme/light.css';
@import './styles/theme/dark.css';

@layer utilities {
  .font-hero {
    font-family: var(--font-hero);
  }
  .font-interface {
    font-family: var(--font-interface);
  }

  @media (min-width: 640px) {
    .sm\:typo-callout-base {
      @apply text-callout font-100 leading-5 tracking-tight;
    }
    .sm\:typo-body-base {
      @apply text-body font-100 leading-6 tracking-tight;
    }
    .sm\:typo-body-key {
      @apply text-body font-200 leading-6 tracking-tight;
    }
    .sm\:typo-title-key {
      @apply text-title font-200 leading-8 tracking-tight;
    }
    .sm\:typo-title-strong {
      @apply text-title font-300 leading-8 tracking-tight;
    }
  }

  @media (min-width: 768px) {
    .md\:typo-headline-strong {
      @apply text-heading font-300 leading-7 tracking-tight;
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(60px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-out;
  }

  /* 스크롤 시 애니메이션 - 초기 상태 */
  .animate-slide-up-on-scroll {
    opacity: 0;
    transform: translateY(60px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  /* 스크롤 시 애니메이션 - 보이는 상태 */
  .animate-slide-up-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .shadow-modal {
    box-shadow: var(--shadow-modal);
  }

  @keyframes slide-up {
    from {
      transform: translateY(24px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* CLOSE */
  @keyframes slide-down {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(24px);
      opacity: 0;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  .animate-slide-up {
    animation: slide-up 180ms ease-out both;
  }

  .animate-slide-down {
    animation: slide-down 150ms ease-in both;
  }

  .animate-fade-in {
    animation: fade-in 140ms ease-out both;
  }

  .animate-fade-out {
    animation: fade-out 120ms ease-in both;
  }

  /* 스텝퍼 작대기 채워지는 애니메이션 */
  @keyframes stepper-fill {
    from {
      transform: scaleX(0);
    }
    to {
      transform: scaleX(1);
    }
  }

  .animate-stepper-fill {
    transform-origin: left;
    animation: stepper-fill 0.35s ease-out forwards;
  }

  /* 2순위: 왼쪽 막대 다 찬 뒤(0.35s) 가운데 스텝 원 강조·색상 변경 */
  @keyframes stepper-circle-reveal {
    from {
      opacity: 0.85;
      transform: scale(0.92);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-stepper-circle-after-left-bar {
    animation: stepper-circle-reveal 0.25s ease-out 0.35s forwards;
  }

  /* 스텝 전환 시: 가운데 스텝 즉시 강조 (delay 0) */
  .animate-stepper-circle-immediate {
    animation: stepper-circle-reveal 0.25s ease-out 0s forwards;
  }

  /* 3순위: 원 강조 끝난 뒤(0.35s + 0.25s) 오른쪽 막대 채우기 (both = 지연 중 0% 키프레임 적용 + 종료 후 100% 유지) */
  .animate-stepper-fill-after-circle {
    transform-origin: left;
    animation: stepper-fill 0.35s ease-out 0.6s both;
  }

  /* 문제 전환: 오른쪽에서 왼쪽으로 슬라이드 인 */
  @keyframes slide-in-from-right {
    from {
      opacity: 0;
      transform: translateX(24px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slide-in-from-right {
    animation: slide-in-from-right 0.3s ease-out forwards;
  }
}

html,
body {
  height: 100dvh; /* 뷰포트 단위 높이 확보 */
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* 가로 스크롤 방지 */
  overflow-y: auto; /* 세로 스크롤 허용 */
  font-family: var(--font-interface);
  overscroll-behavior: none;
}

body {
  min-height: 100dvh;
  height: 100%;
  overflow-x: hidden;
  line-height: 1;
}

menu,
ol,
ul {
  list-style: none;
}

a {
  text-decoration: none;
  color: inherit;
}

* {
  box-sizing: border-box;
}

button {
  cursor: pointer;
}
button:disabled {
  cursor: not-allowed; /* 비활성화 상태에서는 막힌 커서 */
}

.danger input {
  caret-color: var(--color-light-full);
}

.no-scrollbar {
  -ms-overflow-style: none; /* IE, Edge */
  scrollbar-width: none; /* Firefox */
}

:root {
  --scrollbar-thumb: rgba(0, 0, 0, 0.5);
  --scrollbar-thumb-hover: rgba(0, 0, 0, 0.3);
}

.dark {
  --scrollbar-thumb: rgba(255, 255, 255, 0.3);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.15);
}

.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari */
}

.thin-scrollbar::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

.thin-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.thin-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 4px;
}

.thin-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
  border-radius: 4px;
}

/* 룰렛 포인터: 라이트=검정, 다크=흰색 */
.border-t-peak {
  border-top-color: var(--stroke-peak);
}

/* shadow 색상*/
:root {
  --shadow-suggestion: rgba(0, 0, 0, 0.25);
}

.dark {
  --shadow-suggestion: rgba(255, 255, 255, 0.15);
}
